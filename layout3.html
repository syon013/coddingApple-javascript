<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link href="layout3.css" rel="stylesheet" type="text/css" media="all">
    <title>Document</title>
</head>
<body class="mode">
  


  <div class="black-bg">
    <div class="white-bg">
      <h4>로그인하세요</h4>

      <form>
        <div class="my-3">
          <input type="text" class="form-control text-input">
         </div>
         <div class="my-3">
           <input type="password" class="form-control password-input">
         </div>
         <button type="submit" class="btn btn-primary">전송</button>
         <button type="button" class="btn btn-danger" id="close">닫기</button>
      </form> 
    </div>
  </div>

  <script>

    document.querySelector('.black-bg').addEventListener('click', function(e){

      if(e.target == document.querySelector('.black-bg'))
      document.querySelector('.black-bg').classList.remove('show-modal');
    })

  </script>


  
    <div class="list-fade">
      <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
          <span class="navbar-brand">Navbar</span>
          <span class="badge bg-dark">Dark 🔄</span>
          <button class="navbar-toggler" type="button">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
      </nav> 

      <script>

        window.addEventListener('scroll', function(){
          if (window.scrollY > 100){
            document.querySelector('.navbar-brand').style.fontSize = '0.5rem';
          } else {
            document.querySelector('.navbar-brand').style.fontSize = '1rem';
          }
        })

      </script>

      



<script>

  //badge 클릭 횟수가 홀수면 내부 글자 Light로 변경
  //badge 클릭 횟수가 짝수면 내부 글자 Dark로 변경

  var count = 0;

  document.querySelector('.badge').addEventListener('click', function(){
    count++;
    
    if(count % 2 === 0){
      document.querySelector('.badge').innerHTML = 'Dark 🔄';
      document.querySelector('.mode').classList.add('dark');
    } else {
      document.querySelector('.badge').innerHTML = 'Light 🔄';
      document.querySelector('.mode').classList.remove('dark');
    }
  })

  //전송 버튼을 누르면 input에 입력한 값이 공백이면 알림창 띄우고, 
  //공백이 아니면 success.html로 이동
  
  document.querySelector('form').addEventListener('submit',function(){

    event.preventDefault();
    var input = document.querySelector('.text-input').value;
    var input2 = document.querySelector('.password-input').value;
    var pw = document.querySelector('.password-input').value.length;

    if(input === ''){
      alert('아이디를 입력해주세요.');
    } else if(/\S+@\S+\.\S+/.test(input) == false){
      alert('이메일 형식으로 입력해주세요.');
    } else if (input2 === '' || pw < 6){ 
      alert('패스워드를 6자 이상 입력해주세요.');
    } else if(/[A-Z]/.test(input2) == false) {
      alert('패스워드에 대문자도 한 글자 이상 포함되어야 합니다.') 
    } else {
      location.href = 'success.html';
    }
  })

</script>



      <ul class="list-group">
        <li class="list-group-item">An item</li>
        <li class="list-group-item">A second item</li>
        <li class="list-group-item">A third item</li>
        <li class="list-group-item">A fourth item</li>
        <li class="list-group-item">And a fifth one</li>
      </ul>
    </div>


      
      <div class="main-bg">
        <h4>Shits on Sale</h4>
        <button class="btn btn-danger" id="open">로그인</button>
      </div>
      

      <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
    
      <script>
        $('#open').on('click', function(){
          $('.black-bg').addClass('show-modal');
        })


        $('#close').on('click', function(){
          $('.black-bg').removeClass('show-modal');
        })
        
        
      </script>




    <script>
        document.querySelector('.navbar-toggler').addEventListener('click', function(){
            document.querySelector('.list-group').classList.toggle('show');
        })

        

    </script>

    <div class="alert alert-danger">
      <p><h1 class="d-inline-block" id="text-timer">5</h1>초 이내 구매시 사은품 증정!</p>
    </div>

    <script>

      setTimeout(function(){
        document.querySelector('.alert').style.display = 'none';
      }, 5000);
    
      setInterval(function(){
        let textTimer = document.querySelector('#text-timer');

        if(textTimer.innerHTML > 0){
          textTimer.innerHTML--;
        } else {
          document.querySelector('.alert').style.display = 'none';
        }}, 1000);
     
    </script>
  
  <div style="overflow: hidden;">
    <div class="slide-container">
      <div class="slide-box">
        <img src="/img/car1.png" draggable="false">
      </div>
      <div class="slide-box">
        <img src="/img/car2.png" draggable="false">
      </div>
      <div class="slide-box">
        <img src="/img/car3.png" draggable="false">
      </div>
    </div>
  </div>  
  
  <button class="prev">이전</button>
  <button class="slide-1">1</button>
  <button class="slide-2">2</button>
  <button class="slide-3">3</button>
  <button class="next">다음</button>

  <script>

    // 응용1. 나머지 2번, 3번 사진도 스와이프 기능이 가능하도록 만들기
    // 응용2. 첫 사진을 우측으로 스와이프 못하게 막기
    // 응용3. 코드만 따라쳤다면 싹 지우고 1주 후에 답보지 말고 직접 만들어보기

    let startX; // 시작 좌표
    let dragging = false; // 마우스 누르고 있는지 여부
    let translation = 0; // 좌표 이동 거리

    // ---------- 1번 사진 ----------

    $('.slide-box').eq(0).on('mousedown', function(e){ // 마우스 누르는 순간
      startX = e.clientX; // 시작 좌표를 e.clientX로 설정
      dragging = true; // 마우스 누르고 있는지 여부를 true로 설정
    });

    $('.slide-box').eq(0).on('mousemove', function(e){ // 마우스 움직이는 순간
      translation = e.clientX - startX; // 좌표 이동 거리를 e.clientX - startX로 설정
      
    if(dragging == true){ // 마우스 누르고 있는지 여부가 true일 때
      $('.slide-container')
      .css('transform', `translateX(${e.clientX - startX}px)`); // 슬라이드 컨테이너의 transform을 translateX(${e.clientX - startX}px)로 설정
      console.log(e.clientX);
    }
    });

    $('.slide-box').eq(0).on('mouseup', function(e){ // 마우스 누르고 뗀 순간
      console.log(translation); 
      if(translation <= -100){ // 좌표 이동 거리가 -100보다 작거나 같을 때
        $('.slide-container') // 슬라이드 컨테이너에
        .css('transition', 'transform 0.5s ease-in-out') // transition을 transform 0.5s ease-in-out로 설정 (애니메이션 움직임 부드럽게)
        .css('transform', `translateX(-100vw)`); // transform을 translateX(-100vw)로 설정 (2번 사진으로 이동)
      } else if(translation > -100){ // 좌표 이동 거리가 -100보다 클 때) {
        $('.slide-container') // 슬라이드 컨테이너에
        .css('transition', 'transform 0.5s ease-in-out') // transition을 transform 0.5s ease-in-out로 설정 (애니메이션 움직임 부드럽게)
        .css('transform', `translateX(0vw)`);  // transform을 translateX(0vw)로 설정 (1번 사진으로 이동)
      } else if(translation > 0){
        $('.slide-container') // 슬라이드 컨테이너에
        .css('transform', `translateX(0vw)`);  // transform을 translateX(0vw)로 설정 (1번 사진으로 이동)
      }

      setTimeout(()=>{ // 0.5초 후에
        $('.slide-container').css('transition', 'none'); // 슬라이드 컨테이너의 transition을 none으로 설정 (애니메이션 움직임 없애기) * 이걸 안해주면 버그 발생 *
      }, 500);
      dragging = false; // 마우스 누르고 있는지 여부를 false로 설정
    });

    // ----------- 2번 사진 ------------

    

    $('.slide-box').eq(1).on('mousedown', function(e){
      startX = e.clientX;
      dragging = true;
    });

    $('.slide-box').eq(1).on('mousemove', function(e){

    if(dragging == true){
      let client = (e.clientX + 1000) ;
      translation = client - startX;
      console.log(client)

      $('.slide-container')
      .css('transform', `translateX(${client - startX})`);
      console.log(translation);
      }
    });

    $('.slide-box').eq(1).on('mouseup', function(e){
      
      if(translation > -100){
        $('.slide-container')
        .css('transition', 'transform 0.5s ease-in-out')
        .css('transform', `translateX(-200vw)`);
      } else if(translation < 100){
        $('.slide-container')
        .css('transition', 'transform 0.5s ease-in-out')
        .css('transform', `translateX(0vw)`);  
      } else {
        $('.slide-container')
        .css('transition', 'transform 0.5s ease-in-out')
        .css('transform', `translateX(-100vw)`);  
      }

      setTimeout(()=>{
        $('.slide-container').css('transition', 'none');
      }, 500);
      dragging = false;
    });
    
  </script>


  <script>

    const slideContainer = document.querySelector('.slide-container');
    const prev = document.querySelector('.prev');
    const next = document.querySelector('.next');
    const slide1 = document.querySelector('.slide-1');
    const slide2 = document.querySelector('.slide-2');
    const slide3 = document.querySelector('.slide-3');
    let slideIndex = 0;
    const images = ['/img/car1.png', '/img/car2.png', '/img/car3.png'];

    prev.addEventListener('click', function(){
      slideIndex--;
      const translateXValue = -slideIndex * 100;

      if(slideIndex < 0){
          slideIndex = images.length - 1;
          slideContainer.style.transform = `translateX(-${slideIndex * 100}vw)`;
      } else {
      slideContainer.style.transform = `translateX(${translateXValue}vw)`; 
      }
    })

    document.querySelector('.slide-1').addEventListener('click', function(){
      slideContainer.style.transform = 'translateX(0)';
    })
    
    document.querySelector('.slide-2').addEventListener('click', function(){
      slideContainer.style.transform = 'translateX(-100vw)';
    })

    document.querySelector('.slide-3').addEventListener('click', function(){
      slideContainer.style.transform = 'translateX(-200vw)';
    })

    next.addEventListener('click', function(){
      slideIndex++;
      const translateXValue = -slideIndex * 100;
      

      if(slideIndex >= images.length){
          slideIndex = 0;
          slideContainer.style.transform = 'translateX(0)';
      } else {
        slideContainer.style.transform = `translateX(${translateXValue}vw)`; 
      }
    })

    // prev.addEventListener('click', function(){
    //   slideIndex--;
    //   console.log(slideIndex);

    //   if(slideIndex === 0){
    //     slideContainer.style.transform = 'translateX(0)';
    //   } else if (slideIndex === -1){
    //     slideContainer.style.transform = 'translateX(-200vw)';
    //     slideIndex = 2;
    //   } else {
    //     slideContainer.style.transform = 'translateX(-100vw)';
    //   }

    // })

    // next.addEventListener('click', function(){
    //   slideIndex++;

    //   if (slideIndex === 1){
    //     slideContainer.style.transform = 'translateX(-100vw)';
    //   } else if (slideIndex === 2){
    //     slideContainer.style.transform = 'translateX(-200vw)';
    //   } else{
    //     slideContainer.style.transform = 'translateX(0)';
    //     slideIndex = 0;
    //   } 
    // })


    
    

  </script>

  <div class="lorem" style="width: 200px; height: 100px; overflow-y: scroll">
  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quae voluptas voluptatum minus praesentium fugit debitis at, laborum ipsa itaque placeat sit, excepturi eius. Nostrum perspiciatis, eligendi quae consectetur praesentium exercitationem.
  </div> 

  <script>

    const lorem = document.querySelector('.lorem');
    let scrollTimer;

    document.querySelector('.lorem').addEventListener('scroll', function(){
      let 박스높이 = lorem.scrollHeight;
      let 스크롤양 = lorem.scrollTop;
      let 박스눈높이 = lorem.clientHeight;
      
      clearTimeout(scrollTimer);

      scrollTimer = setTimeout(() => {
        if(박스높이 - 10 < (스크롤양 + 박스눈높이)){
        alert('동의하셨습니다.')
      } else {}}, 200);
    })
      

  </script>

  <script>

    function ms(m , s){
      return (m * 60 + s) * 1000; 
      console.log(ms(1, 30));
    }
    
    function sale(가격, 첫구매여부){
      let 할인 = 가격 * 0.1;

      if(첫구매여부 === true){
        const 첫구매자 = (가격 - 할인 - 1.5).toFixed(2);
         return parseFloat(첫구매자);
      } else {
        const 구매자 = (가격 - 할인).toFixed(1);
        return parseFloat(구매자);
      }
    }
  </script>

  
<div class="progress" role="progressbar" aria-label="Animated striped example" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">
  <div class="progress-bar progress-bar-striped progress-bar-animated" ></div>
</div>

  <script>

    const 실제높이 = document.querySelector('html').scrollHeight;
    const 스크롤양 = document.querySelector('html').scrollTop;
    const 보이는높이 = document.querySelector('html').clientHeight;
    const proGress = document.querySelector('.progress-bar');

    window.addEventListener('scroll', function(){
      const totalScrollHeight = 실제높이 - 보이는높이;
      const percentage = (스크롤양 / totalScrollHeight) * 100;
      
      proGress.style.width = `${percentage}%`;
    })

  </script>



  <div style="height: 1000px;"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</body>
</html>